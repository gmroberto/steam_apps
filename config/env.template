# ============================================================================
# Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - add it to .gitignore

# ============================================================================
# Docker Environment Configuration
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Enable debug logging (true/false)
DEBUG=false

# ============================================================================
# PostgreSQL Configuration (Airflow Metadata Database)
# ============================================================================

# PostgreSQL user for Airflow
POSTGRES_USER=airflow

# PostgreSQL password for Airflow
POSTGRES_PASSWORD=airflow

# PostgreSQL database name for Airflow
POSTGRES_DB=airflow

# PostgreSQL host (use 'postgres' for Docker Compose)
POSTGRES_HOST=postgres

# PostgreSQL port
POSTGRES_PORT=5432

# ============================================================================
# MongoDB Configuration (Steam Games Data)
# ============================================================================

# MongoDB root username (for Docker setup)
MONGODB_ROOT_USERNAME=admin

# MongoDB root password (for Docker setup)
MONGODB_ROOT_PASSWORD=admin123

# MongoDB connection string (for Docker setup)
MONGODB_CONNECTION_STRING=mongodb://admin:admin123@mongodb:27017/steam_games?authSource=admin

# MongoDB database name
MONGODB_DATABASE_NAME=steam_games

# MongoDB collection name
MONGODB_COLLECTION_NAME=steam_game_details

# ============================================================================
# Optional: Steam API Configuration (for proxies or custom endpoints)
# ============================================================================

# Steam API URLs (uncomment to override defaults)
# STEAM_APP_LIST_URL=https://api.steampowered.com/ISteamApps/GetAppList/v2/
# STEAM_APP_DETAILS_URL=https://store.steampowered.com/api/appdetails?appids={}

# ============================================================================
# Optional: Override default file paths if needed
# ============================================================================

# Path to the input JSON file for MongoDB insertion
# MONGODB_INPUT_FILE=steam_apps_details.json

# MongoDB log file name
# MONGODB_LOG_FILE=mongodb_insert.log

# ============================================================================
# Optional: Performance and Safety Settings
# ============================================================================

# Number of documents to insert per batch (higher = faster but more memory)
# MONGODB_CHUNK_SIZE=1000

# Connection timeout in milliseconds
# MONGODB_SERVER_TIMEOUT=5000

# Whether to drop the collection before inserting (WARNING: This will delete existing data)
# MONGODB_DROP_COLLECTION=false

# Steam API request timeout in seconds
# STEAM_API_TIMEOUT=30

# Delay between Steam API requests in seconds (to avoid rate limiting)
# STEAM_API_DELAY=0.5

# ============================================================================
# Development vs Production Settings
# ============================================================================

# Environment (development, staging, production)
# ENVIRONMENT=development

# Enable debug logging (true/false)
# DEBUG=false

# ============================================================================
# Airflow Configuration
# ============================================================================

# Airflow home directory (where Airflow stores its files)
AIRFLOW_HOME=./airflow

# Airflow database connection (PostgreSQL for Docker setup)
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow

# Airflow executor (LocalExecutor for single machine, CeleryExecutor for distributed)
AIRFLOW__CORE__EXECUTOR=LocalExecutor

# Airflow webserver port
AIRFLOW__WEBSERVER__WEB_SERVER_PORT=8080

# Airflow webserver secret key (generate a secure random key)
AIRFLOW__WEBSERVER__SECRET_KEY=your-secret-key-here

# Airflow admin user credentials
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=admin
AIRFLOW_ADMIN_EMAIL=admin@example.com
AIRFLOW_ADMIN_FIRSTNAME=Admin
AIRFLOW_ADMIN_LASTNAME=User

# Redis for Celery (if using CeleryExecutor)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# Airflow logging level
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO

# Airflow log file path
AIRFLOW__LOGGING__BASE_LOG_FOLDER=./airflow/logs

# Load examples (set to false in production)
AIRFLOW__CORE__LOAD_EXAMPLES=False

# Enable debug mode (set to false in production)
AIRFLOW__CORE__DEBUG=False

# DAGs are paused at creation (set to true in production)
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=True

# Scheduler configuration
AIRFLOW__SCHEDULER__HEARTBEAT_SEC=5
AIRFLOW__SCHEDULER__MAX_THREADS=2
AIRFLOW__SCHEDULER__PARSING_PROCESSES=1
AIRFLOW__SCHEDULER__DAG_FILE_PROCESSOR_TIMEOUT=50
AIRFLOW__SCHEDULER__DAG_DIR_LIST_INTERVAL=300

# Celery configuration (for distributed processing)
AIRFLOW__CELERY__WORKER_CONCURRENCY=16
AIRFLOW__CELERY__WORKER_PREFETCH_MULTIPLIER=1

# ============================================================================
# Airflow Connections (for Airflow UI)
# ============================================================================

# MongoDB connection for Steam games data
# AIRFLOW_CONN_MONGODB_STEAM=mongodb://localhost:27017/steam_games

# HTTP connection for Steam API
# AIRFLOW_CONN_STEAM_API=http://api.steampowered.com

# ============================================================================
# Airflow Variables (for Airflow UI)
# ============================================================================

# Project configuration file path
# AIRFLOW_VAR_CONFIG_FILE_PATH=config/config.yml

# Steam API configuration
# AIRFLOW_VAR_STEAM_API_TIMEOUT=30
# AIRFLOW_VAR_STEAM_API_DELAY=0.5
# AIRFLOW_VAR_STEAM_BATCH_SIZE=100

# MongoDB configuration
# AIRFLOW_VAR_MONGODB_CHUNK_SIZE=1000
# AIRFLOW_VAR_MONGODB_DROP_COLLECTION=false

# Data directories
# AIRFLOW_VAR_DATA_RAW_DIR=data/raw
# AIRFLOW_VAR_DATA_PROCESSED_DIR=data/processed
# AIRFLOW_VAR_DATA_LOGS_DIR=data/logs
# AIRFLOW_VAR_DATA_TEST_OUTPUT_DIR=data/test_output
